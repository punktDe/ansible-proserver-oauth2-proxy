---
oauth2_proxy:
  prefix:
    opt: /var/opt/oauth2_proxy
  defaults:
    upstreams: ["http://[::]:0/"]
    request_logging: no
    email_domains: []
    htpasswd_file:
    cookie_expire: "672h"
    cookie_refresh: "1h"
    cookie_secure: yes
    cookie_httponly: yes
    set_xauthrequest: yes
    # Note: proxy-prefix is the only option that uses dash instead of underscore.
    # https://github.com/bitly/oauth2_proxy/blob/fa2771998a98a5bfdfa3c3503757668ac4f1c8ec/options.go#L23
    proxy-prefix: /proserver/iap
    templates:
      oauth2_proxy.ini: "{{ role_path + '/templates/oauth2_proxy/oauth2_proxy.ini.j2' }}"
      sign_in.html: "{{ role_path + '/templates/oauth2_proxy/sign_in.html.j2' }}"
      error.html: "{{ role_path + '/templates/oauth2_proxy/error.html.j2' }}"
      htpasswd: "{{ role_path + '/templates/oauth2_proxy/htpasswd.j2' }}"
  config: {}
  branding:
    sign_in_header: ""
    footer: ""
